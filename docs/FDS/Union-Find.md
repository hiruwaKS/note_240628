# 并查集

## 实现

* 维护一个森林，标签的数组，负数表示为根

## 灵巧求并

* 定理：如果按大小求并，那么结点高度增加当且仅当它被并到一棵比它大的树上，最多增加 $log(N)$ 次
* 按高度合并：类似
* 用负数的绝对值表示树的大小、高度
* 没有使用灵巧求并，或者合并的指标相等时，默认将第二个合并到第一个

## 路径压缩

* 将路上的所有结点都接在根结点上
* 路径压缩会降低高度，不要计算实际高度，用 `秩` 表示估计的高度
* 使用灵巧求并、路径压缩，时间复杂度小于 $O(log(N))$ ，约等于常数

## 复杂度证明

>书p328

## 并查集应用

* 等价关系
* 迷宫设计
* 找连通块、Kruskal算法